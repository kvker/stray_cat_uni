(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-detail-detail"],{"06c5":function(t,e,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=r(n("6b75"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(t){if("string"===typeof t)return(0,i.default)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.default)(t,e):void 0}}},"1d16":function(t,e,n){"use strict";var i=n("4ea4");n("99af"),n("a630"),n("d81d"),n("f4b3"),n("3ca3"),n("bf19"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var r=i(n("1da1")),a=i(n("2909")),o={data:function(){return{objectId:"",detail:{},age_list:["未知","0-3个月","3-6个月","6-12个月"].concat((0,a.default)(Array.from({length:17},(function(t,e){return e})).map((function(t){return"".concat(t+1,"-").concat(t+2,"岁")})))),is_admin:!1,is_self:!1}},computed:{jsonDetail:function(){if(this.detail.id){var t=this.detail.toJSON();return t.age_label=this.age_list[t.age],t.sex_label=t.sex?1===t.sex?"母":"公":"未知",t.id=t.sex?1===t.sex?"M"+t.id:"G"+t.id:"X"+t.id,t.quchong_outer_label=t.quchong_outer?this.$util.formatDate(t.quchong_outer,"YY/MM/DD"):"未驱虫",t.quchong_inner_label=t.quchong_inner?this.$util.formatDate(t.quchong_inner,"YY/MM/DD"):"未驱虫",t.category_label=this.$util.getCategoryLabel(t.category),t.lingyang_label=this.$util.getLingyangLevelLabel(t.lingyang_level),t.jueyu_label=t.jueyu_status?1===t.jueyu_status?"已绝育":"未知":"未绝育",t.waiguan=t.waiguan||"暂时为空",t.xingge=t.xingge||"暂时为空",t.img_urls=[t.cover_img.url].concat((0,a.default)(t.imgs.map((function(t){return t.url})))),t}}},onLoad:function(t){this.objectId=t.objectId},onShow:function(){this.getDetail(this.objectId)},onShareAppMessage:function(){return{title:"花名: "+this.jsonDetail.name,imageUrl:this.jsonDetail.cover_img.url}},methods:{getDetail:function(){var t=arguments,e=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i,r,a,o,s,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:e.objectId,n.next=3,e.$av.read("Cat",(function(t){t.equalTo("objectId",i),t.include(["cover_img"])}));case 3:return r=n.sent,a=r[0],n.next=7,e.$av.read("_File",(function(t){t.containsAll("objectId",a.get("imgs"))}));case 7:if(o=n.sent,a.set("imgs",o),e.detail=a,uni.setNavigationBarTitle({title:"".concat(e.detail.get("name"),"的档案")}),s=e.$av.currentUser(),!s){n.next=18;break}return n.next=15,s.getRoles();case 15:l=n.sent,u=l[0],u&&(e.is_admin="admin"===u.get("name"),e.is_self=e.detail.get("owner").get("objectId")===s.get("objectId"));case 18:case"end":return n.stop()}}),n)})))()},previewImg:function(t,e){uni.previewImage({current:e,urls:this.jsonDetail.imgs})}}};e.default=o},"1da1":function(t,e,n){"use strict";function i(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,l,"next",t)}function l(t){i(o,r,a,s,l,"throw",t)}s(void 0)}))}}n("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},2909:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=s(n("6005")),r=s(n("db90")),a=s(n("06c5")),o=s(n("3427"));function s(t){return t&&t.__esModule?t:{default:t}}function l(t){return(0,i.default)(t)||(0,r.default)(t)||(0,a.default)(t)||(0,o.default)()}},3427:function(t,e,n){"use strict";function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"365a":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container pb-20"},[t.detail.id?[n("v-uni-swiper",{staticClass:"swiper",staticStyle:{height:"600rpx"},attrs:{"indicator-dots":!0,autoplay:!0,duration:300}},t._l(t.jsonDetail.img_urls,(function(e,i){return n("v-uni-swiper-item",{key:i,staticStyle:{height:"600rpx"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.previewImg(e,i)}}},[n("v-uni-view",{staticClass:"swiper-item uni-bg-red"},[n("v-uni-image",{staticClass:"w-100",staticStyle:{height:"600rpx"},attrs:{src:e,mode:"aspectFill"}})],1)],1)})),1),n("v-uni-view",{staticClass:"box mt-20"},[n("v-uni-view",{staticClass:"line-box flex"},[n("v-uni-view",{staticClass:"flex aic f1 title-box"},[n("v-uni-text",{staticClass:"title"},[t._v("花名")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.name))])],1),n("v-uni-view",{staticClass:"flex aic f1 value-box"},[n("v-uni-text",{staticClass:"title"},[t._v("编号")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.id))])],1)],1),n("v-uni-view",{staticClass:"line-box flex"},[n("v-uni-view",{staticClass:"flex aic f1 title-box"},[n("v-uni-text",{staticClass:"title"},[t._v("性别")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.sex_label))])],1),n("v-uni-view",{staticClass:"flex aic f1 value-box"},[n("v-uni-text",{staticClass:"title"},[t._v("品种")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.category_label))])],1)],1),n("v-uni-view",{staticClass:"line-box flex"},[n("v-uni-view",{staticClass:"flex aic f1 title-box"},[n("v-uni-text",{staticClass:"title"},[t._v("猫龄")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.age_label))])],1),n("v-uni-view",{staticClass:"flex aic f1 value-box"},[n("v-uni-text",{staticClass:"title"},[t._v("是否绝育")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.jueyu_label))])],1)],1),n("v-uni-view",{staticClass:"line-box flex"},[n("v-uni-view",{staticClass:"flex aic f1 title-box"},[n("v-uni-text",{staticClass:"title"},[t._v("体内驱虫")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.quchong_inner_label))])],1),n("v-uni-view",{staticClass:"flex aic f1 value-box"},[n("v-uni-text",{staticClass:"title"},[t._v("体外驱虫")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.quchong_outer_label))])],1)],1),n("v-uni-view",{staticClass:"line-box flex"},[n("v-uni-view",{staticClass:"flex aic f1 title-box"},[n("v-uni-text",{staticClass:"title"},[t._v("领养适合度")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.lingyang_label))])],1),n("v-uni-view",{staticClass:"flex aic f1 value-box"},[n("v-uni-text",{staticClass:"title"},[t._v("居住地")]),n("v-uni-text",{staticClass:"value ml-20"},[t._v(t._s(t.jsonDetail.address))])],1)],1)],1),n("v-uni-view",{staticClass:"box mt-20"},[n("v-uni-view",{staticClass:"cell"},[t._v("外观描述")]),n("v-uni-view",{staticClass:"content"},[t._v(t._s(t.jsonDetail.waiguan))])],1),n("v-uni-view",{staticClass:"box mt-20"},[n("v-uni-view",{staticClass:"cell"},[t._v("性格描述")]),n("v-uni-view",{staticClass:"content"},[t._v(t._s(t.jsonDetail.xingge))])],1)]:t._e(),t.is_self?n("v-uni-navigator",{staticClass:"fab",staticStyle:{bottom:"200upx"},attrs:{url:"/pages/edit/edit?edit=true&objectId="+t.objectId}},[n("v-uni-image",{attrs:{src:"/static/img/cat.png",mode:"aspectFill"}})],1):t._e(),t.is_admin?n("v-uni-navigator",{staticClass:"fab flex aic jcc btn",staticStyle:{"background-color":"#394F3E"},attrs:{url:"/pages/edit/edit"}},[t._v("+")]):n("v-uni-navigator",{staticClass:"fab flex aic jcc btn",staticStyle:{"background-color":"#394F3E"},attrs:{url:"/pages/login/login"}},[t._v("+")])],2)},a=[]},"3f61":function(t,e,n){"use strict";n.r(e);var i=n("1d16"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},6005:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=r(n("6b75"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t))return(0,i.default)(t)}},"6b75":function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},7546:function(t,e,n){var i=n("ba05");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("37211716",i,!0,{sourceMap:!1,shadowMode:!1})},"81b1":function(t,e,n){"use strict";n.r(e);var i=n("365a"),r=n("3f61");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("cb4a");var o,s=n("f0c5"),l=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"4630e0d7",null,!1,i["a"],o);e["default"]=l.exports},"96cf":function(t,e){!function(e){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",u="object"===typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{c=e.regeneratorRuntime=u?t.exports:{},c.wrap=_;var f="suspendedStart",v="suspendedYield",d="executing",h="completed",g={},p={};p[o]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(M([])));y&&y!==i&&r.call(y,o)&&(p=y);var m=C.prototype=w.prototype=Object.create(p);j.prototype=m.constructor=C,C.constructor=j,C[l]=j.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===j||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(m),t},c.awrap=function(t){return{__await:t}},L(E.prototype),E.prototype[s]=function(){return this},c.AsyncIterator=E,c.async=function(t,e,n,i){var r=new E(_(t,e,n,i));return c.isGeneratorFunction(e)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},L(m),m[l]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=M,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return s.type="throw",s.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:M(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),g}}}function _(t,e,n,i){var r=e&&e.prototype instanceof w?e:w,a=Object.create(r.prototype),o=new I(i||[]);return a._invoke=D(t,n,o),a}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}function w(){}function j(){}function C(){}function L(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){function e(n,i,a,o){var s=x(t[n],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,a,o)}),(function(t){e("throw",t,a,o)})):Promise.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return e("throw",t,a,o)}))}o(s.arg)}var n;function i(t,i){function r(){return new Promise((function(n,r){e(t,i,n,r)}))}return n=n?n.then(r,r):r()}this._invoke=i}function D(t,e,n){var i=f;return function(r,a){if(i===d)throw new Error("Generator is already running");if(i===h){if("throw"===r)throw a;return P()}n.method=r,n.arg=a;while(1){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=x(t,e,n);if("normal"===l.type){if(i=n.done?h:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=h,n.method="throw",n.arg=l.arg)}}}function O(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=x(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function M(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){while(++i<t.length)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},ba05:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-4630e0d7]{background-color:#f4efe9}.box[data-v-4630e0d7]{background-color:#fff}.line-box[data-v-4630e0d7]{padding:%?20?% %?40?% 0}.line-box[data-v-4630e0d7]:last-child{padding:%?20?% %?40?%}.title[data-v-4630e0d7],\n.cell[data-v-4630e0d7]{font-size:%?32?%;font-family:PingFang SC;font-weight:200;color:#949494}.value[data-v-4630e0d7],\n.content[data-v-4630e0d7]{font-size:%?32?%;font-family:PingFang SC;color:#383838}.cell[data-v-4630e0d7]{padding:%?40?% %?40?% %?20?%}.content[data-v-4630e0d7]{padding:%?20?% %?40?% %?40?%;border-top:%?2?% solid #eee}.fab[data-v-4630e0d7]{position:fixed;right:%?40?%;bottom:%?80?%;width:%?80?%;height:%?80?%;font-size:%?48?%;border-radius:50%;background-color:#fff;box-shadow:0 0 %?4?% #000;color:#fff}.fab uni-image[data-v-4630e0d7]{width:100%;height:100%;border-radius:50%}body.?%PAGE?%[data-v-4630e0d7]{background-color:#f4efe9}",""]),t.exports=e},cb4a:function(t,e,n){"use strict";var i=n("7546"),r=n.n(i);r.a},db90:function(t,e,n){"use strict";function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}}]);